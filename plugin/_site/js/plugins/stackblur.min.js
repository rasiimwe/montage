(function(c){var i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(o){var n=o.data;var m=o.width*o.height*4;for(var l=0;l<m;l+=4){var k=n[l+3]/255;n[l]*=k;n[l+1]*=k;n[l+2]*=k}}function e(o){var n=o.data;var m=o.width*o.height*4;for(var l=0;l<m;l+=4){var k=n[l+3];if(k!=0){k=255/k;n[l]*=k;n[l+1]*=k;n[l+2]*=k}}}function j(r,p,q,k){var n=document.getElementById(r);var s=n.naturalWidth;var o=n.naturalHeight;var m=document.getElementById(p);m.style.width=s+"px";m.style.height=o+"px";m.width=s;m.height=o;var l=m.getContext("2d");l.clearRect(0,0,s,o);l.drawImage(n,0,0);if(isNaN(q)||q<1){return}if(k){h(p,0,0,s,o,q)}else{f(p,0,0,s,o,q)}}function h(U,O,M,k,m,Y){if(isNaN(Y)||Y<1){return}Y|=0;var s=document.getElementById(U);var ai=s.getContext("2d");var ad;try{try{ad=ai.getImageData(O,M,k,m)}catch(ah){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");ad=ai.getImageData(O,M,k,m)}catch(ah){alert("Cannot access local image");throw new Error("unable to access local image data: "+ah);return}}}catch(ah){alert("Cannot access image");throw new Error("unable to access image data: "+ah)}g(ad);var r=ad.data;var W,V,af,ac,C,F,w,o,q,L,ab,B,N,J,l,R,X,D,A,v,E,G,H,Q;var ag=Y+Y+1;var S=k<<2;var z=k-1;var aa=m-1;var u=Y+1;var Z=u*(u+1)/2;var P=new d();var K=P;for(af=1;af<ag;af++){K=K.next=new d();if(af==u){var t=K}}K.next=P;var ae=null;var T=null;w=F=0;var I=i[Y];var n=a[Y];for(V=0;V<m;V++){R=X=D=A=o=q=L=ab=0;B=u*(v=r[F]);N=u*(E=r[F+1]);J=u*(G=r[F+2]);l=u*(H=r[F+3]);o+=Z*v;q+=Z*E;L+=Z*G;ab+=Z*H;K=P;for(af=0;af<u;af++){K.r=v;K.g=E;K.b=G;K.a=H;K=K.next}for(af=1;af<u;af++){ac=F+((z<af?z:af)<<2);o+=(K.r=(v=r[ac]))*(Q=u-af);q+=(K.g=(E=r[ac+1]))*Q;L+=(K.b=(G=r[ac+2]))*Q;ab+=(K.a=(H=r[ac+3]))*Q;R+=v;X+=E;D+=G;A+=H;K=K.next}ae=P;T=t;for(W=0;W<k;W++){r[F]=(o*I)>>n;r[F+1]=(q*I)>>n;r[F+2]=(L*I)>>n;r[F+3]=(ab*I)>>n;o-=B;q-=N;L-=J;ab-=l;B-=ae.r;N-=ae.g;J-=ae.b;l-=ae.a;ac=(w+((ac=W+Y+1)<z?ac:z))<<2;R+=(ae.r=r[ac]);X+=(ae.g=r[ac+1]);D+=(ae.b=r[ac+2]);A+=(ae.a=r[ac+3]);o+=R;q+=X;L+=D;ab+=A;ae=ae.next;B+=(v=T.r);N+=(E=T.g);J+=(G=T.b);l+=(H=T.a);R-=v;X-=E;D-=G;A-=H;T=T.next;F+=4}w+=k}for(W=0;W<k;W++){X=D=A=R=q=L=ab=o=0;F=W<<2;B=u*(v=r[F]);N=u*(E=r[F+1]);J=u*(G=r[F+2]);l=u*(H=r[F+3]);o+=Z*v;q+=Z*E;L+=Z*G;ab+=Z*H;K=P;for(af=0;af<u;af++){K.r=v;K.g=E;K.b=G;K.a=H;K=K.next}C=k;for(af=1;af<=Y;af++){F=(C+W)<<2;o+=(K.r=(v=r[F]))*(Q=u-af);q+=(K.g=(E=r[F+1]))*Q;L+=(K.b=(G=r[F+2]))*Q;ab+=(K.a=(H=r[F+3]))*Q;R+=v;X+=E;D+=G;A+=H;K=K.next;if(af<aa){C+=k}}F=W;ae=P;T=t;for(V=0;V<m;V++){ac=F<<2;r[ac]=(o*I)>>n;r[ac+1]=(q*I)>>n;r[ac+2]=(L*I)>>n;r[ac+3]=(ab*I)>>n;o-=B;q-=N;L-=J;ab-=l;B-=ae.r;N-=ae.g;J-=ae.b;l-=ae.a;ac=(W+(((ac=V+u)<aa?ac:aa)*k))<<2;o+=(R+=(ae.r=r[ac]));q+=(X+=(ae.g=r[ac+1]));L+=(D+=(ae.b=r[ac+2]));ab+=(A+=(ae.a=r[ac+3]));ae=ae.next;B+=(v=T.r);N+=(E=T.g);J+=(G=T.b);l+=(H=T.a);R-=v;X-=E;D-=G;A-=H;T=T.next;F+=k}}e(ad);ai.putImageData(ad,O,M)}function f(R,L,J,k,l,V){if(isNaN(V)||V<1){return}V|=0;var r=document.getElementById(R);var ae=r.getContext("2d");var Z;try{try{Z=ae.getImageData(L,J,k,l)}catch(ad){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");Z=ae.getImageData(L,J,k,l)}catch(ad){alert("Cannot access local image");throw new Error("unable to access local image data: "+ad);return}}}catch(ad){alert("Cannot access image");throw new Error("unable to access image data: "+ad)}var q=Z.data;var T,S,ab,Y,A,D,v,n,o,I,w,K,G,O,U,B,u,C,E,N;var ac=V+V+1;var P=k<<2;var z=k-1;var X=l-1;var t=V+1;var W=t*(t+1)/2;var M=new d();var H=M;for(ab=1;ab<ac;ab++){H=H.next=new d();if(ab==t){var s=H}}H.next=M;var aa=null;var Q=null;v=D=0;var F=i[V];var m=a[V];for(S=0;S<l;S++){O=U=B=n=o=I=0;w=t*(u=q[D]);K=t*(C=q[D+1]);G=t*(E=q[D+2]);n+=W*u;o+=W*C;I+=W*E;H=M;for(ab=0;ab<t;ab++){H.r=u;H.g=C;H.b=E;H=H.next}for(ab=1;ab<t;ab++){Y=D+((z<ab?z:ab)<<2);n+=(H.r=(u=q[Y]))*(N=t-ab);o+=(H.g=(C=q[Y+1]))*N;I+=(H.b=(E=q[Y+2]))*N;O+=u;U+=C;B+=E;H=H.next}aa=M;Q=s;for(T=0;T<k;T++){q[D]=(n*F)>>m;q[D+1]=(o*F)>>m;q[D+2]=(I*F)>>m;n-=w;o-=K;I-=G;w-=aa.r;K-=aa.g;G-=aa.b;Y=(v+((Y=T+V+1)<z?Y:z))<<2;O+=(aa.r=q[Y]);U+=(aa.g=q[Y+1]);B+=(aa.b=q[Y+2]);n+=O;o+=U;I+=B;aa=aa.next;w+=(u=Q.r);K+=(C=Q.g);G+=(E=Q.b);O-=u;U-=C;B-=E;Q=Q.next;D+=4}v+=k}for(T=0;T<k;T++){U=B=O=o=I=n=0;D=T<<2;w=t*(u=q[D]);K=t*(C=q[D+1]);G=t*(E=q[D+2]);n+=W*u;o+=W*C;I+=W*E;H=M;for(ab=0;ab<t;ab++){H.r=u;H.g=C;H.b=E;H=H.next}A=k;for(ab=1;ab<=V;ab++){D=(A+T)<<2;n+=(H.r=(u=q[D]))*(N=t-ab);o+=(H.g=(C=q[D+1]))*N;I+=(H.b=(E=q[D+2]))*N;O+=u;U+=C;B+=E;H=H.next;if(ab<X){A+=k}}D=T;aa=M;Q=s;for(S=0;S<l;S++){Y=D<<2;q[Y]=(n*F)>>m;q[Y+1]=(o*F)>>m;q[Y+2]=(I*F)>>m;n-=w;o-=K;I-=G;w-=aa.r;K-=aa.g;G-=aa.b;Y=(T+(((Y=S+t)<X?Y:X)*k))<<2;n+=(O+=(aa.r=q[Y]));o+=(U+=(aa.g=q[Y+1]));I+=(B+=(aa.b=q[Y+2]));aa=aa.next;w+=(u=Q.r);K+=(C=Q.g);G+=(E=Q.b);O-=u;U-=C;B-=E;Q=Q.next;D+=k}}ae.putImageData(Z,L,J)}function d(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}var b={image:j,canvasRGBA:h,canvasRGB:f};if(typeof define!=="undefined"&&define.amd){define(function(){return b})}else{if(typeof module!=="undefined"&&module.exports){module.exports=b}}c.stackBlur=b}(typeof window!=="undefined"?window:this));